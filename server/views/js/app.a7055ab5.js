(function(e){function t(t){for(var a,o,l=t[0],s=t[1],c=t[2],d=0,m=[];d<l.length;d++)o=l[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&m.push(i[o][0]),i[o]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);u&&u(t);while(m.length)m.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,o=1;o<n.length;o++){var s=n[o];0!==i[s]&&(a=!1)}a&&(r.splice(t--,1),e=l(l.s=n[0]))}return e}var a={},i={app:0},r=[];function o(e){return l.p+"js/"+({}[e]||e)+"."+{"chunk-2d0e95df":"dd8f809d","chunk-61848dea":"d644890f"}[e]+".js"}function l(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.e=function(e){var t=[],n=i[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,a){n=i[e]=[t,a]}));t.push(n[2]=a);var r,s=document.createElement("script");s.charset="utf-8",s.timeout=120,l.nc&&s.setAttribute("nonce",l.nc),s.src=o(e);var c=new Error;r=function(t){s.onerror=s.onload=null,clearTimeout(d);var n=i[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",c.name="ChunkLoadError",c.type=a,c.request=r,n[1](c)}i[e]=void 0}};var d=setTimeout((function(){r({type:"timeout",target:s})}),12e4);s.onerror=s.onload=r,document.head.appendChild(s)}return Promise.all(t)},l.m=e,l.c=a,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)l.d(n,a,function(t){return e[t]}.bind(null,a));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/",l.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var u=c;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-app-bar",{attrs:{app:"",color:"secondary",dark:""}},[n("div",{attrs:{id:"nav"}},[n("router-link",{attrs:{to:"/"}},[e._v("Home")]),e._v(" | "),n("router-link",{attrs:{to:"/login"}},[e._v("Login")])],1)]),n("v-main",[n("router-view")],1)],1)},r=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.contactdetails,"sort-by":"mobile"},scopedSlots:e._u([{key:"top",fn:function(){return[n("v-toolbar",{attrs:{flat:""}},[n("v-toolbar-title",[e._v("My Contacts")]),n("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),n("v-spacer"),n("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,i=t.attrs;return[n("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",i,!1),a),[e._v(" New Item ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),n("v-card-text",[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[n("v-text-field",{attrs:{label:"Contact name",required:""},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})],1),n("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[n("v-text-field",{attrs:{label:"Personal mobile",rules:e.NumberRules},model:{value:e.editedItem.mobile,callback:function(t){e.$set(e.editedItem,"mobile",t)},expression:"editedItem.mobile"}})],1),n("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[n("v-text-field",{attrs:{label:"Personal landline",rules:e.NumberRules},model:{value:e.editedItem.landline,callback:function(t){e.$set(e.editedItem,"landline",t)},expression:"editedItem.landline"}})],1),n("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[n("v-text-field",{attrs:{label:"Email",rules:e.emailRules,required:""},model:{value:e.editedItem.email,callback:function(t){e.$set(e.editedItem,"email",t)},expression:"editedItem.email"}})],1),n("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[n("v-text-field",{attrs:{rules:e.NumberRules,label:"Fax"},model:{value:e.editedItem.fax,callback:function(t){e.$set(e.editedItem,"fax",t)},expression:"editedItem.fax"}})],1)],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancel ")]),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v(" Save ")])],1)],1)],1),n("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[n("v-card",[n("v-card-title",{staticClass:"text-h5"},[e._v("Are you sure you want to delete this item?")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("OK")]),n("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var a=t.item;return[n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(a)}}},[e._v(" mdi-pencil ")]),n("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(a)}}},[e._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){return[n("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v(" Reset ")])]},proxy:!0}],null,!0)})},l=[],s=(n("7f7f"),n("96cf"),n("3b8d")),c=n("bc3a"),d={data:function(){return{emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)||"E-mail must be valid"}],NumberRules:[function(e){return/^[0-9]+$/.test(e)||"Must be a valid array of digets"}],dialog:!1,dialogDelete:!1,headers:[{text:"Contact name",align:"start",value:"name"},{text:"Personal mobile",value:"mobile"},{text:"Personal landline",value:"landline"},{text:"Email",value:"email"},{text:"Fax",value:"fax"},{text:"Actions",value:"actions",sortable:!1}],contactdetails:[],editedIndex:-1,editedItem:{name:"Name",mobile:0,landline:0,email:"an_email@mail.com",fax:0},defaultItem:{name:"",mobile:0,landline:0,email:0,fax:0}}},computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"}},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}},created:function(){this.initialize()},methods:{initialize:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.get("http://localhost:9000/api/contacts/"+this.$store.getters.getOwnerId);case 2:t=e.sent,this.contactdetails=t.data;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),editItem:function(e){this.editedIndex=this.contactdetails.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){this.editedIndex=this.contactdetails.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm:function(){c.delete("http://localhost:9000/api/contacts/"+this.contactdetails[this.editedIndex]._id),this.closeDelete(),this.contactdetails.splice(this.editedIndex,1)},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.editedItem.name.length>20)){e.next=3;break}return alert("Contact name is too long. Keep it under 20 characters."),e.abrupt("return");case 3:if(0!=this.editedItem.name.length){e.next=6;break}return alert("Contact name cannot be empty."),e.abrupt("return");case 6:if(!(this.editedItem.mobile.length>15)){e.next=9;break}return alert("Mobile length too long."),e.abrupt("return");case 9:if(!(this.editedItem.fax.length>12)){e.next=12;break}return alert("Fax length too long."),e.abrupt("return");case 12:if(!(this.editedItem.landline.length>10)){e.next=15;break}return alert("Landline length too long."),e.abrupt("return");case 15:if(!(this.editedItem.email.length>40)){e.next=18;break}return alert("email length too long."),e.abrupt("return");case 18:return this.editedIndex>-1?(Object.assign(this.contactdetails[this.editedIndex],this.editedItem),console.log("http://localhost:9000/api/contacts/"+this.editedItem._id),c.put("http://localhost:9000/api/contacts/"+this.editedItem._id,{name:this.editedItem.name,mobile:this.editedItem.mobile,landline:this.editedItem.landline,email:this.editedItem.email,fax:this.editedItem.fax,ownerId:this.editedItem.ownerId})):(console.log("OvDE SAM"+this.$store.getters.getOwnerId),c.post("http://localhost:9000/api/contacts/",{name:this.editedItem.name,mobile:this.editedItem.mobile,landline:this.editedItem.landline,email:this.editedItem.email,fax:this.editedItem.fax,id:Date.now()%1e4,ownerId:this.$store.getters.getOwnerId}),this.contactdetails.push(this.editedItem)),e.next=21,c.get("http://localhost:9000/api/contacts/"+this.$store.getters.getOwnerId);case 21:t=e.sent,this.contactdetails=t.data,this.close();case 24:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},u=d,m=n("2877"),f=n("6544"),h=n.n(f),v=n("8336"),p=n("b0af"),b=n("99d9"),g=n("62ad"),x=n("a523"),I=n("8fea"),w=n("169a"),k=n("ce7e"),y=n("132d"),_=n("0fd9"),C=n("2fa4"),O=n("8654"),j=n("71d9"),V=n("2a7f"),$=Object(m["a"])(u,o,l,!1,null,null,null),T=$.exports;h()($,{VBtn:v["a"],VCard:p["a"],VCardActions:b["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:g["a"],VContainer:x["a"],VDataTable:I["a"],VDialog:w["a"],VDivider:k["a"],VIcon:y["a"],VRow:_["a"],VSpacer:C["a"],VTextField:O["a"],VToolbar:j["a"],VToolbarTitle:V["a"]});var D={name:"App",components:{HelloWorld:T},data:function(){return{}}},P=D,R=n("7496"),S=n("40dc"),E=n("f6c4"),L=Object(m["a"])(P,i,r,!1,null,null,null),M=L.exports;h()(L,{VApp:R["a"],VAppBar:S["a"],VMain:E["a"]});var A=n("8c4f"),N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("v-parallax",{attrs:{dark:"",src:"https://cdn.vuetifyjs.com/images/backgrounds/vbanner.jpg"}},[n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[n("h1",{staticClass:"text-h1 font-weight-thin mb-4"},[e._v("Contacts")]),n("h3",{staticClass:"text-h6 font-weight-thin mb-4"},[n("i",[e._v("By Nikola Đurović")])]),n("br"),n("br"),this.$store.getters.getLogin?e._e():n("h2",{staticClass:"text-h4 font-weight-thin mb-4"},[e._v(" Please "),n("a",{staticStyle:{color:"white"},attrs:{href:"http://localhost:9000/login"}},[n("b",[e._v("Sign in")])]),e._v(" to access your contacts ")]),this.$store.getters.getLogin?n("h2",{staticClass:"text-h4 font-weight-thin mb-4"},[e._v(" Welcome "+e._s(this.$store.getters.getUsername)+" ")]):e._e()])],1)],1),this.$store.getters.getLogin?n("HelloWorld",{attrs:{msg:"Default Boilerplate Template"}}):e._e()],1)},q=[],B={name:"home",components:{HelloWorld:T}},F=B,H=n("8b9c"),W=Object(m["a"])(F,N,q,!1,null,null,null),z=W.exports;h()(W,{VCol:g["a"],VParallax:H["a"],VRow:_["a"]}),a["a"].use(A["a"]);var U=new A["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:z},{path:"/login",name:"login",component:function(){return n.e("chunk-61848dea").then(n.bind(null,"f820"))}},{path:"*",name:"404 error",component:function(){return n.e("chunk-2d0e95df").then(n.bind(null,"8cdb"))}}]}),J=n("f309");a["a"].use(J["a"]);var K=new J["a"]({}),G=n("2f62");a["a"].config.productionTip=!1,a["a"].use(G["a"]);var Q=new G["a"].Store({state:{loggedin:!1,token:-1},mutations:{setLogin:function(e,t){e.loggedin=t},setToken:function(e,t){e.token=t},setOwnerId:function(e,t){e.ownerId=t},setUsername:function(e,t){e.username=t}},getters:{getLogin:function(e){return e.loggedin},getToken:function(e){return e.token},getOwnerId:function(e){return e.ownerId},getUsername:function(e){return e.username}}});new a["a"]({router:U,vuetify:K,store:Q,render:function(e){return e(M)}}).$mount("#app")}});
//# sourceMappingURL=app.a7055ab5.js.map